#version 420 compatibility

uniform sampler2D uniform_diffuse;
uniform sampler2D uniform_specular;
uniform sampler2D uniform_normal;

in highp vec3 out_lighting;
in highp vec3 out_direction;

in highp vec3 out_normal;
in highp vec2 out_texcoord;

void main(){



	highp vec4 diffuse = texture2D(uniform_diffuse, out_texcoord);
	
	//highp vec3 normal = normalize(out_normal + texture2D(uniform_normal, out_texcoord).rgb);
	//highp vec3 normal = normalize(gl_NormalMatrix * rawNormal);
	//float directional = max(dot(normal, out_direction), 0.0);
	
	//gl_FragColor = vec4(out_normal, 1);
	
	gl_FragColor = vec4(diffuse.rgb * out_lighting, diffuse.a);
}